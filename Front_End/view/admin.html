<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | HappyHearts Veterinary Clinic</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/admin.css">
</head>

<body>
<!-- Top Bar -->
<div class="topbar d-flex align-items-center fixed-top">
    <div class="container-fluid d-flex justify-content-between align-items-center">
        <!-- Left Side - Brand and Toggle -->
        <div class="d-flex align-items-center">
            <button class="toggle-sidebar btn btn-link me-3" onclick="toggleSidebar()" aria-label="Toggle sidebar">
                <i class="fas fa-bars"></i>
            </button>
            <span class="d-none d-md-inline fs-6 fw-semibold">VETMED Veterinary Clinic - Admin Dashboard</span>
        </div>

        <!-- Right Side - User Controls -->
        <div class="d-flex align-items-center">
            <!-- Add Admin Button -->
            <a href="adminRestation.html" class="btn btn-sm btn-outline-light me-3" aria-label="Add new admin">
                <i class="fas fa-user-plus me-1"></i>
                <span class="d-none d-md-inline">Add Admin</span>
            </a>

            <!-- User Dropdown -->
            <div class="dropdown">
                <button class="btn dropdown-toggle d-flex align-items-center"
                        id="dropdownUser"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                        aria-haspopup="true">
                    <img id="profileImage" src="https://randomuser.me/api/portraits/men/32.jpg"
                         alt="Admin profile picture"
                         class="rounded-circle user-avatar me-2">
                    <span id="userName" class="d-none d-md-inline">Admin User</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="dropdownUser">
                    <li>
                        <a class="dropdown-item" href="profile.html">
                            <i class="fas fa-user me-2"></i> Profile
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="#">
                            <i class="fas fa-cog me-2"></i> Settings
                        </a>
                    </li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li>
                        <a class="dropdown-item text-danger" href="index.html" id="logoutBtn">
                            <i class="fas fa-sign-out-alt me-2"></i> Sign Out
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Sidebar -->
<div class="sidebar">
    <div class="p-3 text-center">
        <img src="../assets/images/logo%20image%20-01.jpg" alt="HappyHearts" height="80" class="mb-2">
        <div class="sidebar-text"><small class="text-muted">Administration Panel</small></div>
    </div>

    <ul class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link active" href="#dashboard" data-bs-toggle="tab">
                <i class="fas fa-tachometer-alt"></i>
                <span class="sidebar-text">Dashboard</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#users" data-bs-toggle="tab">
                <i class="fas fa-users"></i>
                <span class="sidebar-text">Users</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#veterinarians" data-bs-toggle="tab">
                <i class="fas fa-user-md"></i>
                <span class="sidebar-text">Veterinarians</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#pets" data-bs-toggle="tab">
                <i class="fas fa-paw"></i>
                <span class="sidebar-text">Pets</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#appointments" data-bs-toggle="tab">
                <i class="fas fa-calendar-check"></i>
                <span class="sidebar-text">Appointments</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#settings" data-bs-toggle="tab">
                <i class="fas fa-cog"></i>
                <span class="sidebar-text">Settings</span>
            </a>
        </li>
    </ul>
</div>

<!-- Main Content -->
<div class="main-content">
    <div class="tab-content">
        <!-- Dashboard Tab -->
        <div class="tab-pane fade show active" id="dashboard">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-tachometer-alt me-2" style="color: var(--accent-color);"></i> Dashboard Overview
                </h4>
                <div>
                    <button class="btn btn-sm btn-outline-primary">
                        <i class="fas fa-sync-alt me-1"></i> Refresh
                    </button>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="row mb-4">
                <div class="col-md-6 col-lg-3 mb-3">
                    <div class="card stat-card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="text-muted mb-2">Total Users</h6>
                                    <h3 class="mb-0">1,248</h3>
                                </div>
                                <div class="bg-primary bg-opacity-10 p-3 rounded">
                                    <i class="fas fa-users fa-lg" style="color: var(--accent-color);"></i>
                                </div>
                            </div>
                            <div class="mt-3">
                                <span class="text-success"><i class="fas fa-caret-up me-1"></i> 12.5%</span>
                                <span class="text-muted">since last month</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3 mb-3">
                    <div class="card stat-card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="text-muted mb-2">Veterinarians</h6>
                                    <h3 class="mb-0">24</h3>
                                </div>
                                <div class="bg-primary bg-opacity-10 p-3 rounded">
                                    <i class="fas fa-user-md fa-lg" style="color: var(--accent-color);"></i>
                                </div>
                            </div>
                            <div class="mt-3">
                                <span class="text-success"><i class="fas fa-caret-up me-1"></i> 2 new</span>
                                <span class="text-muted">this month</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3 mb-3">
                    <div class="card stat-card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="text-muted mb-2">Registered Pets</h6>
                                    <h3 class="mb-0">856</h3>
                                </div>
                                <div class="bg-primary bg-opacity-10 p-3 rounded">
                                    <i class="fas fa-paw fa-lg" style="color: var(--accent-color);"></i>
                                </div>
                            </div>
                            <div class="mt-3">
                                <span class="text-success"><i class="fas fa-caret-up me-1"></i> 8.3%</span>
                                <span class="text-muted">since last month</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3 mb-3">
                    <div class="card stat-card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="text-muted mb-2">Today's Appointments</h6>
                                    <h3 class="mb-0">18</h3>
                                </div>
                                <div class="bg-primary bg-opacity-10 p-3 rounded">
                                    <i class="fas fa-calendar-check fa-lg" style="color: var(--accent-color);"></i>
                                </div>
                            </div>
                            <div class="mt-3">
                                <span class="text-danger"><i class="fas fa-caret-down me-1"></i> 2.5%</span>
                                <span class="text-muted">from yesterday</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="row">
                <div class="col-lg-8 mb-4">
                    <div class="card h-100">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h5 class="mb-0">Recent Appointments</h5>
                            <a href="#appointments" class="btn btn-sm btn-outline-primary">View All</a>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Pet</th>
                                        <th>Owner</th>
                                        <th>Veterinarian</th>
                                        <th>Date/Time</th>
                                        <th>Status</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>#AP-1001</td>
                                        <td>Max (Dog)</td>
                                        <td>Sarah Johnson</td>
                                        <td>Dr. Walter White</td>
                                        <td>Today, 10:00 AM</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>#AP-1002</td>
                                        <td>Whiskers (Cat)</td>
                                        <td>David Smith</td>
                                        <td>Dr. Sarah Johnson</td>
                                        <td>Today, 11:30 AM</td>
                                        <td><span class="badge bg-warning">In Progress</span></td>
                                    </tr>
                                    <tr>
                                        <td>#AP-1003</td>
                                        <td>Buddy (Dog)</td>
                                        <td>Emily Davis</td>
                                        <td>Dr. William Anderson</td>
                                        <td>Today, 2:00 PM</td>
                                        <td><span class="badge bg-info">Scheduled</span></td>
                                    </tr>
                                    <tr>
                                        <td>#AP-1004</td>
                                        <td>Luna (Cat)</td>
                                        <td>Michael Brown</td>
                                        <td>Dr. Amanda Jepson</td>
                                        <td>Today, 3:30 PM</td>
                                        <td><span class="badge bg-info">Scheduled</span></td>
                                    </tr>
                                    <tr>
                                        <td>#AP-1005</td>
                                        <td>Charlie (Dog)</td>
                                        <td>Jennifer Wilson</td>
                                        <td>Dr. Walter White</td>
                                        <td>Today, 4:45 PM</td>
                                        <td><span class="badge bg-info">Scheduled</span></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-header bg-white border-bottom-0 pb-0">
                            <h5 class="mb-3 fw-semibold text-primary"><i class="fas fa-bolt me-2"></i> Quick Actions</h5>
                        </div>
                        <div class="card-body pt-0">
                            <div class="d-grid gap-3">
                                <!-- Add Veterinarian -->
                                <a href="addVeterinaries.html" class="btn btn-primary text-start py-3 px-4 rounded-3">
                                    <div class="d-flex align-items-center">
                                        <div class="icon-circle bg-white bg-opacity-25 me-3 p-2">
                                            <i class="fas fa-user-md fs-5"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 fw-semibold">Add Veterinarian</h6>
                                            <small class="text-white text-opacity-75">Register new veterinary staff</small>
                                        </div>
                                    </div>
                                </a>

                                <!-- Create Appointment -->
                                <a href="appointment.html" class="btn btn-light text-start py-3 px-4 rounded-3 border">
                                    <div class="d-flex align-items-center">
                                        <div class="icon-circle bg-primary bg-opacity-10 text-primary me-3 p-2">
                                            <i class="fas fa-calendar-plus fs-5"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 fw-semibold">Create Appointment</h6>
                                            <small class="text-muted">Schedule client visit</small>
                                        </div>
                                    </div>
                                </a>

                                <!-- Register Pet -->
                                <a href="addPet.html" class="btn btn-light text-start py-3 px-4 rounded-3 border">
                                    <div class="d-flex align-items-center">
                                        <div class="icon-circle bg-primary bg-opacity-10 text-primary me-3 p-2">
                                            <i class="fas fa-paw fs-5"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 fw-semibold">Register Pet</h6>
                                            <small class="text-muted">Add new patient record</small>
                                        </div>
                                    </div>
                                </a>

                                <!-- Add New User -->
                                <a href="loginAndRegister.html" class="btn btn-light text-start py-3 px-4 rounded-3 border">
                                    <div class="d-flex align-items-center">
                                        <div class="icon-circle bg-primary bg-opacity-10 text-primary me-3 p-2">
                                            <i class="fas fa-user-plus fs-5"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 fw-semibold">Add New User</h6>
                                            <small class="text-muted">Create staff/client account</small>
                                        </div>
                                    </div>
                                </a>

                                <!-- Generate Report -->
                                <a href="medicalReport.html" class="btn btn-light text-start py-3 px-4 rounded-3 border">
                                    <div class="d-flex align-items-center">
                                        <div class="icon-circle bg-primary bg-opacity-10 text-primary me-3 p-2">
                                            <i class="fas fa-file-invoice-dollar fs-5"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 fw-semibold">Generate Report</h6>
                                            <small class="text-muted">Create financial/medical reports</small>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>

        <!-- Users Tab -->
        <div class="tab-pane fade" id="users">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-users me-2" style="color: var(--accent-color);"></i> Manage Users</h4>
                <div>
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addUserModal">
                        <i class="fas fa-plus me-1"></i> Add User
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table id="usersTable" class="table table-striped" style="width:100% ">
                            <thead>
                            <tr>
                                <th>Image</th>
                                <th>Email</th>
                                <th>Name</th>
                                <th>Address</th>
                                <th>Phone</th>
                                <th>Pets</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody id="user_table">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Veterinarians Tab -->
        <div class="tab-pane fade" id="veterinarians">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-user-md me-2" style="color: var(--accent-color);"></i> Manage Veterinarians</h4>
                <div>

                    <a href="addVeterinaries.html">
                        <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addVetModal"><i
                                class="fas fa-plus me-1"></i>Add Veterinarian
                        </button>
                    </a>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table id="vetsTable" class="table table-striped" style="width:100%">
                            <thead>
                            <tr>
                                <th>Image</th>
                                <th>Email</th>
                                <th>Name</th>
                                <th>Address</th>
                                <th>Phone</th>
                                <th>specialty</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody id="vet_table">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pets Tab -->
        <div class="tab-pane fade" id="pets">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-paw me-2" style="color: var(--accent-color);"></i> Manage Pets</h4>
                <div>
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addPetModal">
                        <i class="fas fa-plus me-1"></i> Add Pet
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table id="petsTable" class="table table-striped" style="width:100%">
                            <thead>
                            <tr>
                                <th>Pet Image</th>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Breed</th>
                                <th>Age</th>
                                <th>Owner</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody id="pet_table">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Appointments Tab -->
        <div class="tab-pane fade" id="appointments">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-calendar-check me-2" style="color: var(--accent-color);"></i> Manage Appointments
                </h4>
                <div>
                    <a href="appointment.html">
                        <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addAppointmentModal">
                            <i class="fas fa-plus me-1"></i> New Appointment
                        </button>
                    </a>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table id="appointmentsTable" class="table table-striped" style="width:100%">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>Date/Time</th>
                                <th>Pet</th>
                                <th>Veterinarian</th>
                                <th>Owner</th>
                                <th>Type</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody id="appointment_table">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tab-pane fade" id="settings">
            <h4><i class="fas fa-cog me-2" style="color: var(--accent-color);"></i> System Settings</h4>
            <!-- Settings content would be here -->
        </div>
    </div>
</div>


<script src="../js/jquery-3.7.1.min.js"></script>
<script src="../js/bootstrap.bundle.min.js"></script>
<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script src="../assets/js/admin.js"></script>
<script>
    // Toggle sidebar function
    function toggleSidebar() {
        document.body.classList.toggle('sidebar-collapsed');
        localStorage.setItem('sidebarCollapsed', document.body.classList.contains('sidebar-collapsed'));
    }

    // Logout functionality
    document.getElementById('logoutBtn').addEventListener('click', function (e) {
        e.preventDefault();
        // Add your logout logic here
        fetch('/api/auth/logout', {
            method: 'POST',
            credentials: 'same-origin'
        }).then(() => {
            window.location.href = '/login.html';
        });
    });

    // Initialize from localStorage
    document.addEventListener('DOMContentLoaded', function () {
        if (localStorage.getItem('sidebarCollapsed') === 'true') {
            document.body.classList.add('sidebar-collapsed');
        }
    });
</script>

</body>
</html>